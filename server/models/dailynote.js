// Generated by CoffeeScript 1.7.1
var DailyNote, americano, moment;

americano = require('americano-cozy');

moment = require('moment');

module.exports = DailyNote = americano.getModel('DailyNote', {
  text: String,
  date: Date
});

DailyNote.getDailyNote = function(day, callback) {
  day = moment(day, 'YYYY-MM-DD').format('YYYY-MM-DD');
  return DailyNote.request('byDay', {
    key: day
  }, function(err, dailynotes) {
    if (err) {
      return callback(err);
    } else if (dailynotes.length !== 0) {
      return callback(null, dailynotes[0]);
    } else {
      return callback();
    }
  });
};
